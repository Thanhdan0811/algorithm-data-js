- Đảm bảo seach engine optimization (SEO) qtrog cho ng tìm kiếm.
- Nextjs giới thiệu metadata API cho phép ta định nghĩa metadata cho mỗi page.

- Có 2 cách kể configuring Metadata : Ở layout.tsx hoặc page.tsx.
- export a static metadata object
- Export a dynamic generateMetadata function.

- Metadata rules : Cả 2 files layout.tsx và page.tsx để có thể export metadata.
- Nếu defined ở layout, thì nó sẽ applies với mọi page trong layout đó. 
- Tương tự, ở page.tsx thì nó sẽ chỉ applies cho page đó.

- Metadata được đọc theo order, từ root level xuống tới final page level.
- Khi có nhiều metadata ở nhiều nơi cho cùng route, chúng sẽ được combined. Nhưng page metadata sẽ thay thế layout metadata nếu chúng có cùng properties


## Static metadata

```
// layout.tsx
export const metadata = {
  title: "Next.js",
  description: "Generated by Next.js",
};

// about/page.tsx
export const metadata = {
    title: "About Dan Code"
}


```
- tittle của About sẽ overwrite title của layout nhưng description thì không.

## dynamic metadata


```
import { Metadata } from "next";

type Props = {
  params: {
    productId: string
  }
}

export const generateMetadata = async ({params} : Props) : Promise<Metadata> => {
  const title = await new Promise(resolve => {
    setTimeout(() => {
      resolve(`Iphone ${params.productId}`)
    }, 100)
  })
  return {
    title: `Product ${title}`
  }
}

export default function ProductDetails({
  params,
}: Props ) {
  return ( 
    <>
      <h1>Detail about product {params.productId}</h1>
    </>
  );
}


```

- Hàm generateMetadata có thể ko dùng với Promise.


# title Metadata.
- Mục đích chính của title field là để define document title.
- Nó có thể là strjng hoặc object.


- Dạng object

```
// app/layout.tsx
export const metadata : Metadata = {
  title: {
    absolute: "", // nếu ta muốn bỏ qua template từ parent, thì ta set absolute cho page
    default: "Next.js Tutorrial", // sẽ áp dụng cho các page không set title metadata.
    template: "%s | Dannnn - %s" // trong các page con nếu set title sẽ được đặt vào %s.
  },
  description: "Generated by Next.js",
};

// app/blog/page.tsx
export const metadata : Metadata = {
    title: {
        absolute: "BLog absolute"
    }
}

```